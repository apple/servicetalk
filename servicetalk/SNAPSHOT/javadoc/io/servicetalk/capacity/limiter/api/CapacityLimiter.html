<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>CapacityLimiter</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: io.servicetalk.capacity.limiter.api, interface: CapacityLimiter">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.servicetalk.capacity.limiter.api</a></div>
<h1 title="Interface CapacityLimiter" class="title">Interface CapacityLimiter</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">CapacityLimiter</span></div>
<div class="block">A provider of capacity for a client or server.
 <p>
 <strong>Capacity</strong>
 Capacity for an entity is defined as the number of concurrent requests that it can process without significantly
 affecting resource consumption or likelihood to successfully process in a timely manner given currently
 available resources vs resources required to process the new request.
 This capacity offered can be static or dynamic and the semantics of determination is left to implementations.
 <p>
 <strong>Consumption</strong>
 As the capacity is defined in terms of concurrent requests, as <a href="#tryAcquire(io.servicetalk.capacity.limiter.api.Classification,io.servicetalk.context.api.ContextMap)"><code>new requests are seen</code></a>, some portion of this capacity is deemed to be consumed till a subsequent callback marks
 the end of processing for that request. Number of times that <a href="#tryAcquire(io.servicetalk.capacity.limiter.api.Classification,io.servicetalk.context.api.ContextMap)"><code>tryAcquire(Classification, ContextMap)</code></a>
 is called without a corresponding termination callback is termed as demand.
 <p>
 <strong>Request Lifetime</strong>
 Request processing starts when <a href="#tryAcquire(io.servicetalk.capacity.limiter.api.Classification,io.servicetalk.context.api.ContextMap)"><code>tryAcquire(Classification, ContextMap)</code></a> is called and returns a non-null
 <a href="CapacityLimiter.Ticket.html" title="interface in io.servicetalk.capacity.limiter.api"><code>CapacityLimiter.Ticket</code></a> and terminates when either one of the following occurs:
 <ul>
     <li>When the request is successfully completed (Default: <a href="CapacityLimiter.Ticket.html#completed()"><code>CapacityLimiter.Ticket.completed()</code></a>)</li>
     <li>When the request fails due to an external capacity rejection i.e., dropped (Default:
     <a href="CapacityLimiter.Ticket.html#dropped()"><code>CapacityLimiter.Ticket.dropped()</code></a>)</li>
     <li>When the request fails due to a local error (Default: <a href="CapacityLimiter.Ticket.html#failed(java.lang.Throwable)"><code>CapacityLimiter.Ticket.failed(Throwable)</code></a>)</li>
     <li>When the request is cancelled (Default: <a href="CapacityLimiter.Ticket.html#ignored()"><code>CapacityLimiter.Ticket.ignored()</code></a>)</li>
 </ul>
 <p>
 <strong>Request Classifications</strong>
 Requests can be classified with different classes, that can be taken into consideration when a
 <a href="CapacityLimiter.html" title="interface in io.servicetalk.capacity.limiter.api"><code>CapacityLimiter</code></a> implementation supports this.
 <a href="Classification.html" title="interface in io.servicetalk.capacity.limiter.api"><code>Classification</code></a> is used as hint from the user of the importance of the incoming request, and are not
 guaranteed to have an influence to the decision if the <a href="CapacityLimiter.html" title="interface in io.servicetalk.capacity.limiter.api"><code>CapacityLimiter</code></a> doesn't support them or chooses to
 ignore them.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Interface</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="CapacityLimiter.LimiterState.html" class="type-name-link" title="interface in io.servicetalk.capacity.limiter.api">CapacityLimiter.LimiterState</a></code></div>
<div class="col-last even-row-color">
<div class="block">Representation of the state of the <a href="CapacityLimiter.html" title="interface in io.servicetalk.capacity.limiter.api"><code>CapacityLimiter</code></a> when the <a href="CapacityLimiter.Ticket.html" title="interface in io.servicetalk.capacity.limiter.api"><code>CapacityLimiter.Ticket</code></a> is issued.</div>
</div>
<div class="col-first odd-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="CapacityLimiter.Ticket.html" class="type-name-link" title="interface in io.servicetalk.capacity.limiter.api">CapacityLimiter.Ticket</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Result of <a href="#tryAcquire(io.servicetalk.capacity.limiter.api.Classification,io.servicetalk.context.api.ContextMap)"><code>tryAcquire(Classification, ContextMap)</code></a> when capacity is enough to meet the demand.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#name()" class="member-name-link">name</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Identifying name for this <a href="CapacityLimiter.html" title="interface in io.servicetalk.capacity.limiter.api"><code>CapacityLimiter</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="CapacityLimiter.Ticket.html" title="interface in io.servicetalk.capacity.limiter.api">CapacityLimiter.Ticket</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#tryAcquire(io.servicetalk.capacity.limiter.api.Classification,io.servicetalk.context.api.ContextMap)" class="member-name-link">tryAcquire</a><wbr>(<a href="Classification.html" title="interface in io.servicetalk.capacity.limiter.api">Classification</a>&nbsp;classification,
 <a href="../../../context/api/ContextMap.html" title="interface in io.servicetalk.context.api">ContextMap</a>&nbsp;context)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Evaluate whether there is enough capacity to allow the call for the given <a href="Classification.html" title="interface in io.servicetalk.capacity.limiter.api"><code>Classification</code></a> and the
 <a href="../../../context/api/ContextMap.html" title="interface in io.servicetalk.context.api"><code>context</code></a>.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="name()">
<h3>name</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">name</span>()</div>
<div class="block">Identifying name for this <a href="CapacityLimiter.html" title="interface in io.servicetalk.capacity.limiter.api"><code>CapacityLimiter</code></a>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the name of this <a href="CapacityLimiter.html" title="interface in io.servicetalk.capacity.limiter.api"><code>CapacityLimiter</code></a>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="tryAcquire(io.servicetalk.capacity.limiter.api.Classification,io.servicetalk.context.api.ContextMap)">
<h3>tryAcquire</h3>
<div class="member-signature"><span class="annotations">@Nullable
</span><span class="return-type"><a href="CapacityLimiter.Ticket.html" title="interface in io.servicetalk.capacity.limiter.api">CapacityLimiter.Ticket</a></span>&nbsp;<span class="element-name">tryAcquire</span><wbr><span class="parameters">(<a href="Classification.html" title="interface in io.servicetalk.capacity.limiter.api">Classification</a>&nbsp;classification,
 @Nullable
 <a href="../../../context/api/ContextMap.html" title="interface in io.servicetalk.context.api">ContextMap</a>&nbsp;context)</span></div>
<div class="block">Evaluate whether there is enough capacity to allow the call for the given <a href="Classification.html" title="interface in io.servicetalk.capacity.limiter.api"><code>Classification</code></a> and the
 <a href="../../../context/api/ContextMap.html" title="interface in io.servicetalk.context.api"><code>context</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>classification</code> - A class tha represents the <i>importance</i> of a request, to be evaluated upon permit.</dd>
<dd><code>context</code> - Contextual metadata supported for evaluation from the call-site. This, in an HTTP context
 would typically be the <code>HttpRequest#context()</code>.</dd>
<dt>Returns:</dt>
<dd><a href="CapacityLimiter.Ticket.html" title="interface in io.servicetalk.capacity.limiter.api"><code>CapacityLimiter.Ticket</code></a> when capacity is enough to satisfy the demand or <code>null</code> when not.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="CapacityLimiter.html" title="interface in io.servicetalk.capacity.limiter.api"><code>CapacityLimiter</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
